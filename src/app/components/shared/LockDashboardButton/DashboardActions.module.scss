// ─────────────────────────────────────────────
// Dashboard Action Sidebar
// Full-height fixed rail on the right edge.
// Stays visible during session load via skeletons.
// ─────────────────────────────────────────────

.actionSidebar {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  padding: 20px 8px;
  gap: 4px;

  width: 54px;

  background: #ffffff;
  border-left: 1px solid #e3e3e3;

  // ── Item wrapper ──────────────────────────────
  &__item {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 38px;
    width: 38px;
    flex-shrink: 0;
  }

  // ── Divider ───────────────────────────────────
  &__divider {
    width: 22px;
    height: 1px;
    background: #e5e7eb;
    margin: 4px 0;
    flex-shrink: 0;
  }

  // ── Skeleton placeholder ──────────────────────
  &__skeleton {
    width: 34px;
    height: 34px;
    border-radius: 50%;
    background: linear-gradient(90deg, #f3f4f6 25%, #e5e7eb 50%, #f3f4f6 75%);
    background-size: 200% 100%;
    animation: skeleton-shimmer 1.4s ease-in-out infinite;
  }

  // ── Action button ─────────────────────────────
  &__btn {
    display: flex;
    align-items: center;
    justify-content: center;

    width: 34px;
    height: 34px;
    flex-shrink: 0;

    background: #f9fafb;
    color: #6b7280;
    border: 1.5px solid #e5e7eb;
    border-radius: 50%;

    cursor: pointer;
    transition:
      background 0.18s ease,
      color 0.18s ease,
      border-color 0.18s ease,
      box-shadow 0.18s ease,
      transform 0.12s ease;

    &:hover:not(:disabled) {
      background: #f1f5f9;
      color: #111827;
      border-color: #d1d5db;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
    }

    &:active:not(:disabled) {
      transform: scale(0.93);
    }

    &:disabled {
      cursor: not-allowed;
      opacity: 0.55;
    }

    svg {
      display: block;
    }

    // Muted: red tint — sound OFF
    &--muted {
      background: #fef2f2 !important;
      color: #dc2626 !important;
      border-color: #fca5a5 !important;

      &:hover:not(:disabled) {
        background: #fee2e2 !important;
        border-color: #f87171 !important;
      }

      svg {
        animation: muted-pulse 2s ease-in-out infinite;
      }
    }

    // Success: green after locking
    &--success {
      background: #dcfce7 !important;
      color: #16a34a !important;
      border-color: #bbf7d0 !important;
      cursor: default;
    }
  }

  &__spinner {
    animation: spin 0.9s linear infinite;
  }

  // ── Responsive ────────────────────────────────
  @media (max-width: 768px) {
    width: 48px;
    padding: 16px 6px;

    &__item {
      min-height: 34px;
      width: 34px;
    }

    &__btn,
    &__skeleton {
      width: 30px;
      height: 30px;
    }
  }

  @media (max-width: 480px) {
    width: 44px;
    padding: 12px 5px;

    &__item {
      min-height: 30px;
      width: 30px;
    }

    &__btn,
    &__skeleton {
      width: 28px;
      height: 28px;
    }
  }
}

// ── Keyframes ─────────────────────────────────────
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes muted-pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.55;
  }
}

@keyframes skeleton-shimmer {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}
